sudo nix run 'github:nix-community/disko/latest#disko-install' -- --flake <flake-url>#<flake-attr> --disk <disk-name> <disk-device>

disko-install is designed for NixOS installations on portable storage or disks that may be transferred between computers. As such, it does not modify the host's NVRAM by default. To ensure your NixOS installation boots seamlessly on new hardware or to prioritize it in your current machine's boot order, use the --write-efi-boot-entries option:

sudo nix run 'github:nix-community/disko/latest#disko-install' -- --write-efi-boot-entries --flake '/tmp/config/etc/nixos#mymachine' --disk main /dev/sda
